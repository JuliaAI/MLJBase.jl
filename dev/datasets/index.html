<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Datasets · MLJBase.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><script src="../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MLJBase.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../measures/">Measures</a></li><li><a class="tocitem" href="../resampling/">Resampling</a></li><li><a class="tocitem" href="../composition/">Composition</a></li><li class="is-active"><a class="tocitem" href>Datasets</a><ul class="internal"><li><a class="tocitem" href="#Standard-datasets"><span>Standard datasets</span></a></li><li><a class="tocitem" href="#Synthetic-datasets"><span>Synthetic datasets</span></a></li><li><a class="tocitem" href="#Utility-functions"><span>Utility functions</span></a></li></ul></li><li><a class="tocitem" href="../distributions/">Distributions</a></li><li><a class="tocitem" href="../utilities/">Utilities</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Datasets</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Datasets</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaAI/MLJBase.jl/blob/master/docs/src/datasets.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Datasets"><a class="docs-heading-anchor" href="#Datasets">Datasets</a><a id="Datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Datasets" title="Permalink"></a></h1><ul></ul><h2 id="Standard-datasets"><a class="docs-heading-anchor" href="#Standard-datasets">Standard datasets</a><a id="Standard-datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Standard-datasets" title="Permalink"></a></h2><p>To add a new dataset assuming it has a header and is, at path <code>data/newdataset.csv</code></p><p>Start by loading it with CSV:</p><pre><code class="language-julia hljs">fpath = joinpath(&quot;datadir&quot;, &quot;newdataset.csv&quot;)
data = CSV.read(fpath, copycols=true,
                categorical=true)</code></pre><p>Load it with DelimitedFiles and Tables</p><pre><code class="language-julia hljs">data_raw, data_header = readdlm(fpath, &#39;,&#39;, header=true)
data_table = Tables.table(data_raw; header=Symbol.(vec(data_header)))</code></pre><p>Retrieve the conversions:</p><pre><code class="language-julia hljs">for (n, st) in zip(names(data), scitype_union.(eachcol(data)))
    println(&quot;:$n=&gt;$st,&quot;)
end</code></pre><p>Copy and paste the result in a coerce</p><pre><code class="language-julia hljs">data_table = coerce(data_table, ...)</code></pre><article class="docstring"><header><a class="docstring-binding" id="MLJBase.load_dataset-Tuple{String, Tuple}" href="#MLJBase.load_dataset-Tuple{String, Tuple}"><code>MLJBase.load_dataset</code></a> — <span class="docstring-category">Method</span></header><section><div><p>load_dataset(fpath, coercions)</p><p>Load one of standard dataset like Boston etc assuming the file is a comma separated file with a header.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL160-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.load_sunspots-Tuple{}" href="#MLJBase.load_sunspots-Tuple{}"><code>MLJBase.load_sunspots</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Load a well-known sunspot time series (table with one column). [https://www.sws.bom.gov.au/Educational/2/3/6]](https://www.sws.bom.gov.au/Educational/2/3/6)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL201-L204">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.@load_ames-Tuple{}" href="#MLJBase.@load_ames-Tuple{}"><code>MLJBase.@load_ames</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Load the full version of the well-known Ames Housing task.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.@load_boston-Tuple{}" href="#MLJBase.@load_boston-Tuple{}"><code>MLJBase.@load_boston</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Load a well-known public regression dataset with <code>Continuous</code> features.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL206">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.@load_crabs-Tuple{}" href="#MLJBase.@load_crabs-Tuple{}"><code>MLJBase.@load_crabs</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Load a well-known crab classification dataset with nominal features.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL245">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.@load_iris-Tuple{}" href="#MLJBase.@load_iris-Tuple{}"><code>MLJBase.@load_iris</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Load a well-known public classification task with nominal features.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL230">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.@load_reduced_ames-Tuple{}" href="#MLJBase.@load_reduced_ames-Tuple{}"><code>MLJBase.@load_reduced_ames</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Load a reduced version of the well-known Ames Housing task</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL214">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.@load_smarket-Tuple{}" href="#MLJBase.@load_smarket-Tuple{}"><code>MLJBase.@load_smarket</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Load S&amp;P Stock Market dataset, as used in (An Introduction to Statistical Learning with applications in R)<a href="https://rdrr.io/cran/ISLR/man/Smarket.html">https://rdrr.io/cran/ISLR/man/Smarket.html</a>, by Witten et al (2013), Springer-Verlag, New York.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL253-L257">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.@load_sunspots-Tuple{}" href="#MLJBase.@load_sunspots-Tuple{}"><code>MLJBase.@load_sunspots</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Load a well-known sunspot time series (single table with one column).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets.jl#LL238">source</a></section></article><h2 id="Synthetic-datasets"><a class="docs-heading-anchor" href="#Synthetic-datasets">Synthetic datasets</a><a id="Synthetic-datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Synthetic-datasets" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MLJBase.augment_X-Tuple{Matrix{&lt;:Real}, Bool}" href="#MLJBase.augment_X-Tuple{Matrix{&lt;:Real}, Bool}"><code>MLJBase.augment_X</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">augment_X(X, fit_intercept)</code></pre><p>Given a matrix <code>X</code>, append a column of ones if <code>fit_intercept</code> is true. See <a href="#MLJBase.make_regression"><code>make_regression</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL300-L306">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.finalize_Xy-NTuple{6, Any}" href="#MLJBase.finalize_Xy-NTuple{6, Any}"><code>MLJBase.finalize_Xy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">finalize_Xy(X, y, shuffle, as_table, eltype, rng; clf)</code></pre><p>Internal function to  finalize the <code>make_*</code> functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL15-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.make_blobs" href="#MLJBase.make_blobs"><code>MLJBase.make_blobs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">X, y = make_blobs(n=100, p=2; kwargs...)</code></pre><p>Generate Gaussian blobs for clustering and classification problems.</p><p><strong>Return value</strong></p><p>By default, a table <code>X</code> with <code>p</code> columns (features) and <code>n</code> rows (observations), together with a corresponding vector of <code>n</code> <code>Multiclass</code> target observations <code>y</code>, indicating blob membership.</p><p><strong>Keyword arguments</strong></p><ul><li><p><code>shuffle=true</code>: whether to shuffle the resulting points,</p></li><li><p><code>centers=3</code>: either a number of centers or a <code>c x p</code> matrix with <code>c</code> pre-determined centers,</p></li><li><p><code>cluster_std=1.0</code>: the standard deviation(s) of each blob,</p></li><li><p><code>center_box=(-10. =&gt; 10.)</code>: the limits of the <code>p</code>-dimensional cube within which the cluster centers are drawn if they are not provided,</p></li><li><p><code>eltype=Float64</code>: machine type of points (any subtype of  <code>AbstractFloat</code>).</p></li><li><p><code>rng=Random.GLOBAL_RNG</code>: any <code>AbstractRNG</code> object, or integer to seed a <code>MersenneTwister</code> (for reproducibility).</p></li><li><p><code>as_table=true</code>: whether to return the points as a table (true) or a matrix (false). If <code>false</code> the target <code>y</code> has integer element type. </p></li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">X, y = make_blobs(100, 3; centers=2, cluster_std=[1.0, 3.0])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL45-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.make_circles" href="#MLJBase.make_circles"><code>MLJBase.make_circles</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">X, y = make_circles(n=100; kwargs...)</code></pre><p>Generate <code>n</code> labeled points close to two concentric circles for classification and clustering models.</p><p><strong>Return value</strong></p><p>By default, a table <code>X</code> with <code>2</code> columns and <code>n</code> rows (observations), together with a corresponding vector of <code>n</code> <code>Multiclass</code> target observations <code>y</code>. The target is either <code>0</code> or <code>1</code>, corresponding to membership to the smaller or larger circle, respectively.</p><p><strong>Keyword arguments</strong></p><ul><li><p><code>shuffle=true</code>: whether to shuffle the resulting points,</p></li><li><p><code>noise=0</code>: standard deviation of the Gaussian noise added to the data,</p></li><li><p><code>factor=0.8</code>: ratio of the smaller radius over the larger one,</p></li></ul><ul><li><p><code>eltype=Float64</code>: machine type of points (any subtype of  <code>AbstractFloat</code>).</p></li><li><p><code>rng=Random.GLOBAL_RNG</code>: any <code>AbstractRNG</code> object, or integer to seed a <code>MersenneTwister</code> (for reproducibility).</p></li><li><p><code>as_table=true</code>: whether to return the points as a table (true) or a matrix (false). If <code>false</code> the target <code>y</code> has integer element type. </p></li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">X, y = make_circles(100; noise=0.5, factor=0.3)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL150-L179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.make_moons" href="#MLJBase.make_moons"><code>MLJBase.make_moons</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">    make_moons(n::Int=100; kwargs...)</code></pre><p>Generates labeled two-dimensional points lying close to two interleaved semi-circles, for use with classification and clustering models.</p><p><strong>Return value</strong></p><p>By default, a table <code>X</code> with <code>2</code> columns and <code>n</code> rows (observations), together with a corresponding vector of <code>n</code> <code>Multiclass</code> target observations <code>y</code>. The target is either <code>0</code> or <code>1</code>, corresponding to membership to the left or right semi-circle.</p><p><strong>Keyword arguments</strong></p><ul><li><p><code>shuffle=true</code>: whether to shuffle the resulting points,</p></li><li><p><code>noise=0.1</code>: standard deviation of the Gaussian noise added to the data,</p></li><li><p><code>xshift=1.0</code>: horizontal translation of the second center with respect to the first one.</p></li><li><p><code>yshift=0.3</code>: vertical translation of the second center with respect to the first one.  </p></li><li><p><code>eltype=Float64</code>: machine type of points (any subtype of  <code>AbstractFloat</code>).</p></li><li><p><code>rng=Random.GLOBAL_RNG</code>: any <code>AbstractRNG</code> object, or integer to seed a <code>MersenneTwister</code> (for reproducibility).</p></li><li><p><code>as_table=true</code>: whether to return the points as a table (true) or a matrix (false). If <code>false</code> the target <code>y</code> has integer element type. </p></li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">X, y = make_moons(100; noise=0.5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL222-L255">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.make_regression" href="#MLJBase.make_regression"><code>MLJBase.make_regression</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_regression(n, p; kwargs...)</code></pre><p>Generate Gaussian input features and a linear response with Gaussian noise, for use with regression models.</p><p><strong>Return value</strong></p><p>By default, a table <code>X</code> with <code>p</code> columns and <code>n</code> rows (observations), together with a corresponding vector of <code>n</code> <code>Continuous</code> target observations <code>y</code>.</p><p><strong>Keywords</strong></p><ul><li><p>`intercept=true: whether to generate data from a model with intercept,</p></li><li><p><code>sparse=0</code>: portion of the generating weight vector that is sparse,</p></li><li><p><code>noise=0.1</code>: standard deviation of the Gaussian noise added to the response,</p></li><li><p><code>outliers=0</code>: portion of the response vector to make as outliers by adding a random quantity with high variance. (Only applied if <code>binary</code> is <code>false</code>)</p></li><li><p><code>binary=false</code>: whether the target should be binarized (via a sigmoid).</p></li><li><p><code>eltype=Float64</code>: machine type of points (any subtype of  <code>AbstractFloat</code>).</p></li><li><p><code>rng=Random.GLOBAL_RNG</code>: any <code>AbstractRNG</code> object, or integer to seed a <code>MersenneTwister</code> (for reproducibility).</p></li><li><p><code>as_table=true</code>: whether to return the points as a table (true) or a matrix (false). </p></li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">X, y = make_regression(100, 5; noise=0.5, sparse=0.2, outliers=0.1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL349-L384">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.outlify!-Tuple{Any, Any, Any}" href="#MLJBase.outlify!-Tuple{Any, Any, Any}"><code>MLJBase.outlify!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Add outliers to portion s of vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL321">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.runif_ab-NTuple{5, Any}" href="#MLJBase.runif_ab-NTuple{5, Any}"><code>MLJBase.runif_ab</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">runif_ab(rng, n, p, a, b)</code></pre><p>Internal function to generate <code>n</code> points in <code>[a, b]ᵖ</code> uniformly at random.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL37-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.sigmoid-Tuple{Float64}" href="#MLJBase.sigmoid-Tuple{Float64}"><code>MLJBase.sigmoid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sigmoid(x)</code></pre><p>Return the sigmoid computed in a numerically stable way:</p><p><span>$σ(x) = 1/(1+exp(-x))$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL328-L335">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.sparsify!-Tuple{Any, Any, Any}" href="#MLJBase.sparsify!-Tuple{Any, Any, Any}"><code>MLJBase.sparsify!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sparsify!(rng, θ, s)</code></pre><p>Make portion <code>s</code> of vector <code>θ</code> exactly 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/datasets_synthetic.jl#LL312-L317">source</a></section></article><h2 id="Utility-functions"><a class="docs-heading-anchor" href="#Utility-functions">Utility functions</a><a id="Utility-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MLJBase.complement-Tuple{Any, Any}" href="#MLJBase.complement-Tuple{Any, Any}"><code>MLJBase.complement</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">complement(folds, i)</code></pre><p>The complement of the <code>i</code>th fold of <code>folds</code> in the concatenation of all elements of <code>folds</code>. Here <code>folds</code> is a vector or tuple of integer vectors, typically representing row indices or a vector, matrix or table.</p><pre><code class="nohighlight hljs">complement(([1,2], [3,], [4, 5]), 2) # [1 ,2, 4, 5]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/data.jl#LL317-L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.corestrict-Union{Tuple{N}, Tuple{Tuple{Vararg{T, N}} where T, Any}} where N" href="#MLJBase.corestrict-Union{Tuple{N}, Tuple{Tuple{Vararg{T, N}} where T, Any}} where N"><code>MLJBase.corestrict</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">corestrict(X, folds, i)</code></pre><p>The restriction of <code>X</code>, a vector, matrix or table, to the <em>complement</em> of the <code>i</code>th fold of <code>folds</code>, where <code>folds</code> is a tuple of vectors of row indices.</p><p>The method is curried, so that <code>corestrict(folds, i)</code> is the operator on data defined by <code>corestrict(folds, i)(X) = corestrict(X, folds, i)</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">folds = ([1, 2], [3, 4, 5],  [6,])
corestrict([:x1, :x2, :x3, :x4, :x5, :x6], folds, 2) # [:x1, :x2, :x6]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/data.jl#LL336-L351">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.partition-Tuple{Any, Vararg{Real}}" href="#MLJBase.partition-Tuple{Any, Vararg{Real}}"><code>MLJBase.partition</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">partition(X, fractions...;
          shuffle=nothing,
          rng=Random.GLOBAL_RNG,
          stratify=nothing,
          multi=false)</code></pre><p>Splits the vector, matrix or table <code>X</code> into a tuple of objects of the same type, whose vertical concatenation is <code>X</code>. The number of rows in each component of the return value is determined by the corresponding <code>fractions</code> of <code>length(nrows(X))</code>, where valid fractions are floats between 0 and 1 whose sum is less than one. The last fraction is not provided, as it is inferred from the preceding ones.</p><p>For &quot;synchronized&quot; partitioning of multiple objects, use the <code>multi=true</code> option described below.</p><pre><code class="nohighlight hljs">julia&gt; partition(1:1000, 0.8)
([1,...,800], [801,...,1000])

julia&gt; partition(1:1000, 0.2, 0.7)
([1,...,200], [201,...,900], [901,...,1000])

julia&gt; partition(reshape(1:10, 5, 2), 0.2, 0.4)
([1 6], [2 7; 3 8], [4 9; 5 10])

X, y = make_blobs() # a table and vector
Xtrain, Xtest = partition(X, 0.8, stratify=y)

(Xtrain, Xtest), (ytrain, ytest) = partition((X, y), 0.8, rng=123, multi=true)</code></pre><p><strong>Keywords</strong></p><ul><li><p><code>shuffle=nothing</code>: if set to <code>true</code>, shuffles the rows before taking fractions.</p></li><li><p><code>rng=Random.GLOBAL_RNG</code>: specifies the random number generator to be used, can be an integer seed. If specified, and <code>shuffle === nothing</code> is interpreted as true.</p></li><li><p><code>stratify=nothing</code>: if a vector is specified, the partition will match the stratification of the given vector. In that case, <code>shuffle</code> cannot be <code>false</code>.</p></li><li><p><code>multi=false</code>: if <code>true</code> then <code>X</code> is expected to be a <code>tuple</code> of objects sharing a common length, which are each partitioned separately using the same specified <code>fractions</code> <em>and</em> the same row shuffling. Returns a tuple of partitions (a tuple of tuples).</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/data.jl#LL93-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.restrict-Union{Tuple{N}, Tuple{Tuple{Vararg{T, N}} where T, Any}} where N" href="#MLJBase.restrict-Union{Tuple{N}, Tuple{Tuple{Vararg{T, N}} where T, Any}} where N"><code>MLJBase.restrict</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">restrict(X, folds, i)</code></pre><p>The restriction of <code>X</code>, a vector, matrix or table, to the <code>i</code>th fold of <code>folds</code>, where <code>folds</code> is a tuple of vectors of row indices.</p><p>The method is curried, so that <code>restrict(folds, i)</code> is the operator on data defined by <code>restrict(folds, i)(X) = restrict(X, folds, i)</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">folds = ([1, 2], [3, 4, 5],  [6,])
restrict([:x1, :x2, :x3, :x4, :x5, :x6], folds, 2) # [:x3, :x4, :x5]</code></pre><p>See also <a href="#MLJBase.corestrict-Union{Tuple{N}, Tuple{Tuple{Vararg{T, N}} where T, Any}} where N"><code>corestrict</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/data.jl#LL293-L309">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.skipinvalid-Tuple{Any}" href="#MLJBase.skipinvalid-Tuple{Any}"><code>MLJBase.skipinvalid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">skipinvalid(itr)</code></pre><p>Return an iterator over the elements in <code>itr</code> skipping <code>missing</code> and <code>NaN</code> values. Behaviour is similar to <a href="@ref"><code>skipmissing</code></a>.</p><pre><code class="nohighlight hljs">skipinvalid(A, B)</code></pre><p>For vectors <code>A</code> and <code>B</code> of the same length, return a tuple of vectors <code>(A[mask], B[mask])</code> where <code>mask[i]</code> is <code>true</code> if and only if <code>A[i]</code> and <code>B[i]</code> are both valid (non-<code>missing</code> and non-<code>NaN</code>). Can also called on other iterators of matching length, such as arrays, but always returns a vector. Does not remove <code>Missing</code> from the element types if present in the original iterators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/data.jl#LL393-L408">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MLJBase.unpack-Tuple{Any, Vararg{Any}}" href="#MLJBase.unpack-Tuple{Any, Vararg{Any}}"><code>MLJBase.unpack</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unpack(table, f1, f2, ... fk;
       wrap_singles=false,
       shuffle=false,
       rng::Union{AbstractRNG,Int,Nothing}=nothing,
       coerce_options...)</code></pre><p>Horizontally split any Tables.jl compatible <code>table</code> into smaller tables or vectors by making column selections determined by the predicates <code>f1</code>, <code>f2</code>, ..., <code>fk</code>. Selection from the column names is without replacement. A <em>predicate</em> is any object <code>f</code> such that <code>f(name)</code> is <code>true</code> or <code>false</code> for each column <code>name::Symbol</code> of <code>table</code>.</p><p>Returns a tuple of tables/vectors with length one greater than the number of supplied predicates, with the last component including all previously unselected columns.</p><pre><code class="nohighlight hljs">julia&gt; table = DataFrame(x=[1,2], y=[&#39;a&#39;, &#39;b&#39;], z=[10.0, 20.0], w=[&quot;A&quot;, &quot;B&quot;])
2×4 DataFrame
 Row │ x      y     z        w
     │ Int64  Char  Float64  String
─────┼──────────────────────────────
   1 │     1  a        10.0  A
   2 │     2  b        20.0  B

Z, XY, W = unpack(table, ==(:z), !=(:w))
julia&gt; Z
2-element Vector{Float64}:
 10.0
 20.0

julia&gt; XY
2×2 DataFrame
 Row │ x      y
     │ Int64  Char
─────┼─────────────
   1 │     1  a
   2 │     2  b

julia&gt; W  # the column(s) left over
2-element Vector{String}:
 &quot;A&quot;
 &quot;B&quot;</code></pre><p>Whenever a returned table contains a single column, it is converted to a vector unless <code>wrap_singles=true</code>.</p><p>If <code>coerce_options</code> are specified then <code>table</code> is first replaced with <code>coerce(table, coerce_options)</code>. See <a href="@ref"><code>ScientificTypes.coerce</code></a> for details.</p><p>If <code>shuffle=true</code> then the rows of <code>table</code> are first shuffled, using the global RNG, unless <code>rng</code> is specified; if <code>rng</code> is an integer, it specifies the seed of an automatically generated Mersenne twister. If <code>rng</code> is specified then <code>shuffle=true</code> is implicit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/MLJBase.jl/blob/6c5772f5b8b146c769928644bfe7daf9a4ba22a2/src/data/data.jl#LL194-L253">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../composition/">« Composition</a><a class="docs-footer-nextpage" href="../distributions/">Distributions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Tuesday 25 January 2022 02:20">Tuesday 25 January 2022</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
